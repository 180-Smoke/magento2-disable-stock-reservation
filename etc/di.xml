<?xml version="1.0"?>
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="urn:magento:framework:ObjectManager/etc/config.xsd">
    <!--  Prevent any writes to the inventory_reservations table  -->
    <type name="Magento\InventorySalesApi\Api\PlaceReservationsForSalesEventInterface">
        <plugin name="disable_place_reservations"
                type="Ampersand\DisableStockReservation\Plugin\PlaceReservationsForSalesEventPlugin"/>
    </type>

    <type name="Magento\Sales\Model\OrderRepository">
        <plugin name="add_sources_to_order"
                type="Ampersand\DisableStockReservation\Plugin\Model\OrderRepositoryPlugin"
                sortOrder="2"/>
    </type>

    <preference
            for="Ampersand\DisableStockReservation\Api\Data\SourcesInterface"
            type="Ampersand\DisableStockReservation\Model\Sources" />

    <preference
            for="Ampersand\DisableStockReservation\Api\SourcesRepositoryInterface"
            type="Ampersand\DisableStockReservation\Model\SourcesRepository" />
</config>
